webpackJsonp([5,8],{2:function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var a=s(6),o=n(a);e.default=o.default||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t}},3:function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(1),o=n(a);e.default={replace:!0,props:{pageType:String,fixHead:Boolean,messageCount:Number,needAdd:{type:Boolean,default:!0}},data:function(){return{nickname:"",profileimgurl:"",show:!1}},methods:{openMenu:function(){(0,o.default)("html, body, #page").addClass("scroll-hide"),this.show=!this.show},showMenus:function(){this.show=!this.show,(0,o.default)("html, body, #page").removeClass("scroll-hide")}},components:{nvMenu:s(15)}}},4:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={replace:!0,props:["showMenu","pageType","nickName","profileUrl"],components:{userInfo:s(16)}}},5:function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(2),o=n(a),i=s(21);e.default={replace:!0,computed:(0,o.default)({},(0,i.mapGetters)({userInfo:"getUserInfo"})),methods:{goEnter:function(){this.$router.push({name:"login",query:{redirect:encodeURIComponent(this.$route.path)}})},goUser:function(){this.$router.push({name:"user",params:{loginname:this.userInfo.loginname}})}}}},6:function(t,e,s){t.exports={default:s(7),__esModule:!0}},7:function(t,e,s){s(11),t.exports=s(20).Object.assign},8:function(t,e,s){"use strict";var n=s(25),a=s(9),o=s(10),i=s(26),r=s(24),c=Object.assign;t.exports=!c||s(22)(function(){var t={},e={},s=Symbol(),n="abcdefghijklmnopqrst";return t[s]=7,n.split("").forEach(function(t){e[t]=t}),7!=c({},t)[s]||Object.keys(c({},e)).join("")!=n})?function(t,e){for(var s=i(t),c=arguments.length,u=1,l=a.f,d=o.f;c>u;)for(var f,h=r(arguments[u++]),_=l?n(h).concat(l(h)):n(h),p=_.length,m=0;p>m;)d.call(h,f=_[m++])&&(s[f]=h[f]);return s}:c},9:function(t,e){e.f=Object.getOwnPropertySymbols},10:function(t,e){e.f={}.propertyIsEnumerable},11:function(t,e,s){var n=s(23);n(n.S+n.F,"Object",{assign:s(8)})},12:function(t,e){},13:function(t,e){},14:function(t,e,s){var n,a;n=s(3);var o=s(19);a=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(a=n=n.default),"function"==typeof a&&(a=a.options),a.render=o.render,a.staticRenderFns=o.staticRenderFns,t.exports=n},15:function(t,e,s){var n,a;s(13),n=s(4);var o=s(18);a=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(a=n=n.default),"function"==typeof a&&(a=a.options),a.render=o.render,a.staticRenderFns=o.staticRenderFns,t.exports=n},16:function(t,e,s){var n,a;s(12),n=s(5);var o=s(17);a=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(a=n=n.default),"function"==typeof a&&(a=a.options),a.render=o.render,a.staticRenderFns=o.staticRenderFns,t.exports=n},17:function(t,e){t.exports={render:function(){var t=this;return t._h("div",{staticClass:"user-info"},[t.userInfo.loginname?t._e():t._h("ul",{staticClass:"login-no"},[t._h("li",{staticClass:"login",on:{click:t.goEnter}},[t._h("a",["登录"])])])," "," ",t.userInfo.loginname?t._h("div",{staticClass:"login-yes",on:{click:t.goUser}},[t._h("div",{staticClass:"avertar"},[t.userInfo.avatar_url?t._h("img",{attrs:{src:t.userInfo.avatar_url}}):t._e()])," ",t._h("div",{staticClass:"info"},[t.userInfo.loginname?t._h("p",{domProps:{textContent:t._s(t.userInfo.loginname)}}):t._e()])]):t._e()])},staticRenderFns:[]}},18:function(t,e){t.exports={render:function(){var t=this;return t._h("section",{staticClass:"nav-list",class:{show:t.showMenu},attrs:{id:"sideBar"}},[t._h("user-info")," ",t._h("section",{staticClass:"list-ul"},[t._h("router-link",{staticClass:"icon-quanbu iconfont item",attrs:{to:{name:"list",query:{tab:"all"}}}},["全部"])," ",t._h("router-link",{staticClass:"icon-hao iconfont item",attrs:{to:{name:"list",query:{tab:"good"}}}},["精华"])," ",t._h("router-link",{staticClass:"icon-fenxiang iconfont item",attrs:{to:{name:"list",query:{tab:"share"}}}},["分享"])," ",t._h("router-link",{staticClass:"icon-wenda iconfont item",attrs:{to:{name:"list",query:{tab:"ask"}}}},["问答"])," ",t._h("router-link",{staticClass:"icon-zhaopin iconfont item",attrs:{to:{name:"list",query:{tab:"job"}}}},["招聘"])," ",t._h("router-link",{staticClass:"icon-xiaoxi iconfont item line",attrs:{to:{name:"message"}}},["消息"])," ",t._h("router-link",{staticClass:"icon-about iconfont item",attrs:{to:{name:"about"}}},["关于"])])])},staticRenderFns:[]}},19:function(t,e){t.exports={render:function(){var t=this;return t._h("div",[t.show&&t.fixHead?t._h("div",{staticClass:"page-cover",on:{click:t.showMenus}}):t._e()," ",t._h("header",{class:{show:t.show&&t.fixHead,"fix-header":t.fixHead,"no-fix":!t.fixHead},attrs:{id:"hd"}},[t._h("div",{staticClass:"nv-toolbar"},[t.fixHead?t._h("div",{staticClass:"toolbar-nav",on:{click:t.openMenu}}):t._e()," ",t._h("span",{domProps:{textContent:t._s(t.pageType)}})," ",t.messageCount>0?t._h("i",{staticClass:"num"},[" "+t._s(t.messageCount)]):t._e()," ",t._h("router-link",{attrs:{to:"/add"}},[t.needAdd?t._h("i",{directives:[{name:"show",rawName:"v-show",value:!t.messageCount||t.messageCount<=0,expression:"!messageCount || messageCount <= 0"}],staticClass:"iconfont add-icon"},[""]):t._e()])])])," ",t.fixHead?t._h("nv-menu",{attrs:{"show-menu":t.show,"page-type":t.pageType,"nick-name":t.nickname,"profile-url":t.profileimgurl}}):t._e()])},staticRenderFns:[]}},45:function(t,e,s){var n,a;n=s(58);var o=s(110);a=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(a=n=n.default),"function"==typeof a&&(a=a.options),a.render=o.render,a.staticRenderFns=o.staticRenderFns,t.exports=n},58:function(t,e,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(2),o=n(a),i=s(1),r=n(i),c=s(27),u=n(c),l=s(14),d=n(l),f=s(21);e.default={data:function(){return{showMenu:!1,selectItem:2,message:{},noData:!1,currentData:[],no_read_len:0}},computed:(0,o.default)({},(0,f.mapGetters)({userInfo:"getUserInfo"})),mounted:function(){var t=this;r.default.get("https://cnodejs.org/api/v1/messages?accesstoken="+this.userInfo.token,function(e){e&&e.data?(t.message=e.data,t.no_read_len=e.data.hasnot_read_messages.length,e.data.hasnot_read_messages.length>0?t.currentData=e.data.hasnot_read_messages:(t.currentData=e.data.has_read_messages,t.selectItem=2),t.noData=0===t.currentData.length):t.noData=!0})},methods:{changeItem:function(t){this.selectItem=t,this.currentData=1===t?this.message.hasnot_read_messages:this.message.has_read_messages,this.noData=0===this.currentData.length},markall:function(){r.default.post("https://cnodejs.org/api/v1/message/mark_all",{accesstoken:this.userInfo.token},function(t){t&&t.success&&window.location.reload()})},getLastTimeStr:function(t,e){return u.default.getLastTimeStr(t,e)}},components:{nvHead:d.default}}},110:function(t,e){t.exports={render:function(){var t=this;return t._h("div",[t._h("nv-head",{attrs:{"page-type":"消息","fix-head":!0,"show-menu":t.showMenu,"message-count":t.no_read_len,"need-add":!0}})," ",t._h("div",{staticClass:"page"},[t._h("ul",{staticClass:"tabs"},[t._h("li",{staticClass:"item br",class:{selected:2===t.selectItem},on:{click:function(e){t.changeItem(2)}}},["已读消息"])," ",t._h("li",{staticClass:"item",class:{selected:1===t.selectItem},on:{click:function(e){t.changeItem(1)}}},["\n                未读消息\n                ",t._h("i",{directives:[{name:"show",rawName:"v-show",value:t.no_read_len>0,expression:"no_read_len > 0"}],staticClass:"iconfont read",on:{click:t.markall}},[""])])])," ",t._l(t.currentData,function(e){return t._h("div",{staticClass:"message markdown-body"},[t._h("section",{staticClass:"user"},[t._h("img",{staticClass:"head",attrs:{src:e.author.avatar_url}})," ",t._h("div",{staticClass:"info"},[t._h("span",{staticClass:"cl"},[t._h("span",{staticClass:"name"},[t._s(e.author.loginname)])," ","at"===e.type?t._h("span",{staticClass:"name"},["在回复中@了您"]):t._e()," ","reply"===e.type?t._h("span",{staticClass:"name"},["回复了您的话题"]):t._e()])," ",t._h("span",{staticClass:"cr"},[t._h("span",{staticClass:"name",domProps:{textContent:t._s(t.getLastTimeStr(e.reply.create_at,!0))}})])])])," ",t._h("div",{staticClass:"reply_content",domProps:{innerHTML:t._s(e.reply.content)}})," ",t._h("router-link",{attrs:{to:{name:"topic",params:{id:e.topic.id}}}},[t._h("div",{staticClass:"topic-title"},["\n                    话题："+t._s(e.topic.title)+"\n                "])])])})," ",t._h("div",{directives:[{name:"show",rawName:"v-show",value:t.noData,expression:"noData"}],staticClass:"no-data"},[t._h("i",{staticClass:"iconfont icon-empty"},[""]),"\n            暂无数据!\n        "])])])},staticRenderFns:[]}}});
//# sourceMappingURL=5.a0cc452ddcd6ecbc5685.js.map