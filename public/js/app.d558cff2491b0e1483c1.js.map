{"version":3,"sources":["webpack:///public/js/app.d558cff2491b0e1483c1.js","webpack:///./src/main.js","webpack:///./src/libs/utils.js","webpack:///./src/filters.js","webpack:///./src/libs/alert.js","webpack:///./src/routers.js","webpack:///./src/vuex/user.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_keys","_keys2","_vue","_vue2","_webpackZepto","_webpackZepto2","_vueRouter","_vueRouter2","_filters","_filters2","_routers","_routers2","_alert","_alert2","_user","_user2","_fastclick","_fastclick2","use","ajaxSettings","crossDomain","forEach","k","filter","router","mode","routes","attach","document","body","window","sessionStorage","user","dispatch","JSON","parse","beforeEach","to","from","next","removeClass","matched","some","record","meta","requiresAuth","state","userInfo","userId","path","query","redirect","fullPath","store","$mount","27","_lodash","_lodash2","_timeago","_timeago2","getCheck","checkEmail","val","test","checkPhone","fetchUsers","text","ignoreRegexs","ignoreRegex","replace","results","match","names","i","l","length","s","slice","push","uniq","linkUsers","users","name","RegExp","fmtDate","date","fmt","o","M+","getMonth","d+","getDate","h+","getHours","m+","getMinutes","s+","getSeconds","q+","Math","floor","S","getMilliseconds","$1","getFullYear","substr","MillisecondToDate","time","str","timeagoInstance","format","getLastTimeStr","friendly","Date","getTabInfo","tab","good","top","isClass","className","throttle","fn","wait","mustRun","timeout","startTime","context","this","args","arguments","curTime","clearTimeout","apply","setTimeout","49","_utils","_utils2","getTabStr","getTabClassName","50","Object","defineProperty","value","install","timer","prototype","$alert","msg","remove","append","html","addClass","51","Home","resolve","e","List","routers","component","52","_vuex","_vuex2","userStore","Store","getters","getUserInfo","mutations","setUserInfo","actions","_ref","commit"],"mappings":"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","file":"public/js/app.d558cff2491b0e1483c1.js","sourcesContent":["webpackJsonp([10,8],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _keys = __webpack_require__(62);\n\t\n\tvar _keys2 = _interopRequireDefault(_keys);\n\t\n\tvar _vue = __webpack_require__(37);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _webpackZepto = __webpack_require__(1);\n\t\n\tvar _webpackZepto2 = _interopRequireDefault(_webpackZepto);\n\t\n\tvar _vueRouter = __webpack_require__(111);\n\t\n\tvar _vueRouter2 = _interopRequireDefault(_vueRouter);\n\t\n\tvar _filters = __webpack_require__(49);\n\t\n\tvar _filters2 = _interopRequireDefault(_filters);\n\t\n\tvar _routers = __webpack_require__(51);\n\t\n\tvar _routers2 = _interopRequireDefault(_routers);\n\t\n\tvar _alert = __webpack_require__(50);\n\t\n\tvar _alert2 = _interopRequireDefault(_alert);\n\t\n\tvar _user = __webpack_require__(52);\n\t\n\tvar _user2 = _interopRequireDefault(_user);\n\t\n\tvar _fastclick = __webpack_require__(91);\n\t\n\tvar _fastclick2 = _interopRequireDefault(_fastclick);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_vueRouter2.default);\n\t_vue2.default.use(_alert2.default);\n\t\n\t_webpackZepto2.default.ajaxSettings.crossDomain = true;\n\t\n\t// 实例化Vue的filter\n\t(0, _keys2.default)(_filters2.default).forEach(function (k) {\n\t    return _vue2.default.filter(k, _filters2.default[k]);\n\t});\n\t\n\t// 实例化VueRouter\n\tvar router = new _vueRouter2.default({\n\t    mode: 'history',\n\t    routes: _routers2.default\n\t});\n\t_fastclick2.default.attach(document.body);\n\t\n\t// 处理刷新的时候vuex被清空但是用户已经登录的情况\n\tif (window.sessionStorage.user) {\n\t    _user2.default.dispatch('setUserInfo', JSON.parse(window.sessionStorage.user));\n\t}\n\t\n\t// 登录中间验证，页面需要登录而没有登录的情况直接跳转登录\n\trouter.beforeEach(function (to, from, next) {\n\t    // 处理左侧滚动不影响右边\n\t    (0, _webpackZepto2.default)('html, body, #page').removeClass('scroll-hide');\n\t    if (to.matched.some(function (record) {\n\t        return record.meta.requiresAuth;\n\t    })) {\n\t        if (_user2.default.state.userInfo.userId) {\n\t            next();\n\t        } else {\n\t            next({\n\t                path: '/login',\n\t                query: { redirect: to.fullPath }\n\t            });\n\t        }\n\t    } else {\n\t        next();\n\t    }\n\t});\n\t\n\tnew _vue2.default({\n\t    router: router,\n\t    store: _user2.default\n\t}).$mount('#app');\n\n/***/ },\n\n/***/ 27:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _lodash = __webpack_require__(92);\n\t\n\tvar _lodash2 = _interopRequireDefault(_lodash);\n\t\n\tvar _timeago = __webpack_require__(96);\n\t\n\tvar _timeago2 = _interopRequireDefault(_timeago);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar getCheck = {\n\t    checkEmail: function checkEmail(val) {\n\t        var filter = /^([a-zA-Z0-9_\\\\.\\\\-])+\\\\@(([a-zA-Z0-9\\\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\n\t        if (filter.test(val)) {\n\t            return true;\n\t        } else {\n\t            return false;\n\t        }\n\t    },\n\t    checkPhone: function checkPhone(val) {\n\t        var filter = /^1\\d{10}$/;\n\t\n\t        if (filter.test(val)) {\n\t            return true;\n\t        } else {\n\t            return false;\n\t        }\n\t    }\n\t};\n\t\n\t/**\n\t * 从文本中提取出@username 标记的用户名数组\n\t * @param {String} text 文本内容\n\t * @return {Array} 用户名数组\n\t */\n\tvar fetchUsers = function fetchUsers(text) {\n\t    if (!text) {\n\t        return [];\n\t    }\n\t\n\t    var ignoreRegexs = [/```.+?```/g, // 去除单行的 ```\n\t    /^```[\\s\\S]+?^```/gm, // ``` 里面的是 pre 标签内容\n\t    /`[\\s\\S]+?`/g, // 同一行中，`some code` 中内容也不该被解析\n\t    /^.*/gm, // 4个空格也是 pre 标签，在这里 . 不会匹配换行\n\t    /\\b\\S*?@[^\\s]*?\\..+?\\b/g, // somebody@gmail.com 会被去除\n\t    /\\[@.+?\\\\]\\(\\/.+?\\)/g // 已经被 link 的 username\n\t    ];\n\t\n\t    ignoreRegexs.forEach(function (ignoreRegex) {\n\t        text = text.replace(ignoreRegex, '');\n\t    });\n\t\n\t    var results = text.match(/@[a-z0-9\\-_]+\\b/igm);\n\t    var names = [];\n\t    if (results) {\n\t        for (var i = 0, l = results.length; i < l; i++) {\n\t            var s = results[i];\n\t            // remove leading char @\n\t            s = s.slice(1);\n\t            names.push(s);\n\t        }\n\t    }\n\t    names = _lodash2.default.uniq(names);\n\t    return names;\n\t};\n\t\n\t/**\n\t * 根据文本内容，替换为数据库中的数据\n\t * @param {String} text 文本内容\n\t * @param {Function} callback 回调函数\n\t */\n\tvar linkUsers = function linkUsers(text) {\n\t    var users = fetchUsers(text);\n\t    for (var i = 0, l = users.length; i < l; i++) {\n\t        var name = users[i];\n\t        text = text.replace(new RegExp('@' + name + '\\\\b(?!\\\\])', 'g'), '[@' + name + '](/user/' + name + ')');\n\t    }\n\t    return text;\n\t};\n\t\n\t/**\n\t *   对Date的扩展，将 Date 转化为指定格式的String\n\t *   月(M)、日(d)、小时(h)、分(m)、秒(s)、季度(q) 可以用 1-2 个占位符，\n\t *   年(y)可以用 1-4 个占位符，毫秒(S)只能用 1 个占位符(是 1-3 位的数字)\n\t *   例子：\n\t *   (new Date()).Format('yyyy-MM-dd hh:mm:ss.S') ==> 2006-07-02 08:09:04.423\n\t *   (new Date()).Format('yyyy-M-d h:m:s.S')      ==> 2006-7-2 8:9:4.18\n\t */\n\tvar fmtDate = function fmtDate(date, fmt) {\n\t    // author: meizz\n\t    var o = {\n\t        'M+': date.getMonth() + 1, // 月份\n\t        'd+': date.getDate(), // 日\n\t        'h+': date.getHours(), // 小时\n\t        'm+': date.getMinutes(), // 分\n\t        's+': date.getSeconds(), // 秒\n\t        'q+': Math.floor((date.getMonth() + 3) / 3), // 季度\n\t        'S': date.getMilliseconds() // 毫秒\n\t    };\n\t    if (/(y+)/.test(fmt)) {\n\t        fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\n\t    }\n\t    for (var k in o) {\n\t        if (new RegExp('(' + k + ')').test(fmt)) {\n\t            fmt = fmt.replace(RegExp.$1, RegExp.$1.length === 1 ? o[k] : ('00' + o[k]).substr(('' + o[k]).length));\n\t        }\n\t    }\n\t    return fmt;\n\t};\n\t\n\t/**\n\t * 调用Timeago库显示到现在的时间\n\t */\n\tvar MillisecondToDate = function MillisecondToDate(time) {\n\t    var str = '';\n\t    if (time !== null && time !== '') {\n\t        var timeagoInstance = new _timeago2.default();\n\t        str = timeagoInstance.format(time, 'zh_CN');\n\t    }\n\t    return str;\n\t};\n\t\n\t/**\n\t * 格式化日期或时间\n\t * @param {string} time 需要格式化的时间\n\t * @param {bool} friendly 是否是fromNow\n\t */\n\texports.getLastTimeStr = function (time, friendly) {\n\t    if (friendly) {\n\t        return MillisecondToDate(time);\n\t    } else {\n\t        return fmtDate(new Date(time), 'yyyy-MM-dd hh:mm');\n\t    }\n\t};\n\t\n\t/**\n\t * 获取不同tab的信息\n\t * @param  {[type]}  tab     [tab分类]\n\t * @param  {[type]}  good    [是否是精华]\n\t * @param  {[type]}  top     [是否置顶]\n\t * @param  {Boolean} isClass [是否是样式]\n\t * @return {[type]}          [返回对应字符串]\n\t */\n\texports.getTabInfo = function (tab, good, top, isClass) {\n\t    var str = '';\n\t    var className = '';\n\t    if (top) {\n\t        str = '置顶';\n\t        className = 'top';\n\t    } else if (good) {\n\t        str = '精华';\n\t        className = 'good';\n\t    } else {\n\t        switch (tab) {\n\t            case 'share':\n\t                str = '分享';\n\t                className = 'share';\n\t                break;\n\t            case 'ask':\n\t                str = '问答';\n\t                className = 'ask';\n\t                break;\n\t            case 'job':\n\t                str = '招聘';\n\t                className = 'job';\n\t                break;\n\t            default:\n\t                str = '暂无';\n\t                className = 'default';\n\t                break;\n\t        }\n\t    }\n\t    return isClass ? className : str;\n\t};\n\t\n\t/**\n\t * 配置节流函数\n\t * @param  {[Function]}  fn     [要执行的函数]\n\t * @param  {[Number]}  delay    [延迟执行的毫秒数]\n\t * @param  {[Number]}  mustRun  [至少多久执行一次]\n\t * @return {[Function]}         [节流函数]\n\t */\n\texports.throttle = function (fn, wait, mustRun) {\n\t    var timeout = void 0;\n\t    var startTime = new Date();\n\t    return function () {\n\t        var context = this;\n\t        var args = arguments;\n\t        var curTime = new Date();\n\t\n\t        clearTimeout(timeout);\n\t        // 如果达到了规定的触发时间间隔，触发 handler\n\t        if (curTime - startTime >= mustRun) {\n\t            fn.apply(context, args);\n\t            startTime = curTime;\n\t            // 没达到触发间隔，重新设定定时器\n\t        } else {\n\t            timeout = setTimeout(fn, wait);\n\t        }\n\t    };\n\t};\n\t\n\texports.linkUsers = linkUsers;\n\texports.fetchUsers = fetchUsers;\n\texports.getCheck = getCheck;\n\texports.fmtDate = fmtDate;\n\texports.MillisecondToDate = MillisecondToDate;\n\n/***/ },\n\n/***/ 49:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _utils = __webpack_require__(27);\n\t\n\tvar _utils2 = _interopRequireDefault(_utils);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/** 格式化时间\n\t *  @param {string} time 需要格式化的时间\n\t *  @param {bool} friendly 是否是fromNow\n\t */\n\texports.getLastTimeStr = function (time, friendly) {\n\t    if (friendly) {\n\t        return _utils2.default.MillisecondToDate(time);\n\t    } else {\n\t        return _utils2.default.fmtDate(new Date(time), 'yyyy-MM-dd hh:mm');\n\t    }\n\t};\n\t\n\t/** 获取文字标签\n\t *  @param {string} tab Tab分类\n\t *  @param {bool} good 是否是精华帖\n\t *  @param {bool} top 是否是置顶帖\n\t */\n\texports.getTabStr = function (tab, good, top) {\n\t    var str = '';\n\t    if (top) {\n\t        str = '置顶';\n\t    } else if (good) {\n\t        str = '精华';\n\t    } else {\n\t        switch (tab) {\n\t            case 'share':\n\t                str = '分享';\n\t                break;\n\t            case 'ask':\n\t                str = '问答';\n\t                break;\n\t            case 'job':\n\t                str = '招聘';\n\t                break;\n\t            default:\n\t                str = '暂无';\n\t                break;\n\t        }\n\t    }\n\t    return str;\n\t};\n\t\n\t/** 获取标签样式\n\t *  @param {string} tab Tab分类\n\t *  @param {bool} good 是否是精华帖\n\t *  @param {bool} top 是否是置顶帖\n\t */\n\texports.getTabClassName = function (tab, good, top) {\n\t    var className = '';\n\t\n\t    if (top) {\n\t        className = 'top';\n\t    } else if (good) {\n\t        className = 'good';\n\t    } else {\n\t        switch (tab) {\n\t            case 'share':\n\t                className = 'share';\n\t                break;\n\t            case 'ask':\n\t                className = 'ask';\n\t                break;\n\t            case 'job':\n\t                className = 'job';\n\t                break;\n\t            default:\n\t                className = 'default';\n\t                break;\n\t        }\n\t    }\n\t    return className;\n\t};\n\n/***/ },\n\n/***/ 50:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _vue = __webpack_require__(37);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _webpackZepto = __webpack_require__(1);\n\t\n\tvar _webpackZepto2 = _interopRequireDefault(_webpackZepto);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\n\t * 全局注册弱提示\n\t */\n\texports.default = {\n\t    install: function install() {\n\t        var timer = null;\n\t        _vue2.default.prototype.$alert = function (msg) {\n\t            (0, _webpackZepto2.default)('#alertWeek').remove();\n\t            var $alert = (0, _webpackZepto2.default)('<div class=\"week-alert\" id=\"alertWeek\"></div>');\n\t            (0, _webpackZepto2.default)('body').append($alert);\n\t            $alert.html(msg);\n\t            $alert.addClass('alert-show');\n\t            clearTimeout(timer);\n\t            timer = setTimeout(function () {\n\t                $alert.remove();\n\t            }, 2000);\n\t        };\n\t    }\n\t};\n\n/***/ },\n\n/***/ 51:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t// require.ensure 是 Webpack 的特殊语法，用来设置 code-split point\n\tvar Home = function Home(resolve) {\n\t    __webpack_require__.e/* nsure */(7, function () {\n\t        resolve(__webpack_require__(42));\n\t    });\n\t};\n\t\n\tvar List = function List(resolve) {\n\t    __webpack_require__.e/* nsure */(1, function () {\n\t        resolve(__webpack_require__(43));\n\t    });\n\t};\n\t\n\tvar routers = [{\n\t    path: '/',\n\t    name: 'home',\n\t    component: Home\n\t}, {\n\t    path: '/cnodevue',\n\t    name: 'cnodevue',\n\t    component: Home\n\t}, {\n\t    path: '/list',\n\t    name: 'list',\n\t    component: List\n\t}, {\n\t    path: '/topic/:id',\n\t    name: 'topic',\n\t    component: function component(resolve) {\n\t        __webpack_require__.e/* nsure */(0, function () {\n\t            resolve(__webpack_require__(47));\n\t        });\n\t    }\n\t}, {\n\t    path: '/add',\n\t    name: 'add',\n\t    component: function component(resolve) {\n\t        __webpack_require__.e/* nsure */(3, function () {\n\t            resolve(__webpack_require__(46));\n\t        });\n\t    },\n\t\n\t    meta: { requiresAuth: true }\n\t}, {\n\t    path: '/message',\n\t    name: 'message',\n\t    component: function component(resolve) {\n\t        __webpack_require__.e/* nsure */(5, function () {\n\t            resolve(__webpack_require__(45));\n\t        });\n\t    },\n\t\n\t    meta: { requiresAuth: true }\n\t}, {\n\t    path: '/user/:loginname',\n\t    name: 'user',\n\t    component: function component(resolve) {\n\t        __webpack_require__.e/* nsure */(4, function () {\n\t            resolve(__webpack_require__(48));\n\t        });\n\t    }\n\t}, {\n\t    path: '/about',\n\t    name: 'about',\n\t    component: function component(resolve) {\n\t        __webpack_require__.e/* nsure */(6, function () {\n\t            resolve(__webpack_require__(41));\n\t        });\n\t    }\n\t}, {\n\t    path: '/login',\n\t    name: 'login',\n\t    component: function component(resolve) {\n\t        __webpack_require__.e/* nsure */(2, function () {\n\t            resolve(__webpack_require__(44));\n\t        });\n\t    }\n\t}, {\n\t    path: '*',\n\t    component: Home\n\t}];\n\t\n\texports.default = routers;\n\n/***/ },\n\n/***/ 52:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _vue = __webpack_require__(37);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _vuex = __webpack_require__(21);\n\t\n\tvar _vuex2 = _interopRequireDefault(_vuex);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_vuex2.default);\n\t\n\tvar userStore = new _vuex2.default.Store({\n\t    state: {\n\t        userInfo: {}\n\t    },\n\t    getters: {\n\t        getUserInfo: function getUserInfo(state) {\n\t            return state.userInfo;\n\t        }\n\t    },\n\t    mutations: {\n\t        setUserInfo: function setUserInfo(state, userInfo) {\n\t            state.userInfo = userInfo;\n\t        }\n\t    },\n\t    actions: {\n\t        setUserInfo: function setUserInfo(_ref, user) {\n\t            var commit = _ref.commit;\n\t\n\t            commit('setUserInfo', user);\n\t        }\n\t    }\n\t});\n\t\n\texports.default = userStore;\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// public/js/app.d558cff2491b0e1483c1.js","import Vue from 'vue';\nimport $ from 'webpack-zepto';\nimport VueRouter from 'vue-router';\nimport filters from './filters';\nimport routes from './routers';\nimport Alert from './libs/alert';\nimport store from './vuex/user';\nimport FastClick from 'fastclick';\nVue.use(VueRouter);\nVue.use(Alert);\n\n$.ajaxSettings.crossDomain = true;\n\n// 实例化Vue的filter\nObject.keys(filters).forEach(k => Vue.filter(k, filters[k]));\n\n// 实例化VueRouter\nconst router = new VueRouter({\n    mode: 'history',\n    routes\n});\nFastClick.attach(document.body);\n\n// 处理刷新的时候vuex被清空但是用户已经登录的情况\nif (window.sessionStorage.user) {\n    store.dispatch('setUserInfo', JSON.parse(window.sessionStorage.user));\n}\n\n// 登录中间验证，页面需要登录而没有登录的情况直接跳转登录\nrouter.beforeEach((to, from, next) => {\n    // 处理左侧滚动不影响右边\n    $('html, body, #page').removeClass('scroll-hide');\n    if (to.matched.some(record => record.meta.requiresAuth)) {\n        if (store.state.userInfo.userId) {\n            next();\n        } else {\n            next({\n                path: '/login',\n                query: { redirect: to.fullPath }\n            });\n        }\n    } else {\n        next();\n    }\n});\n\nnew Vue({\n    router,\n    store\n}).$mount('#app');\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","'use strict';\n\nimport _ from 'lodash';\nimport Timeago from 'timeago.js';\n\nlet getCheck = {\n    checkEmail(val) {\n        var filter = /^([a-zA-Z0-9_\\\\.\\\\-])+\\\\@(([a-zA-Z0-9\\\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\n        if (filter.test(val)) {\n            return true;\n        } else {\n            return false;\n        }\n    },\n    checkPhone(val) {\n        var filter = /^1\\d{10}$/;\n\n        if (filter.test(val)) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n};\n\n/**\n * 从文本中提取出@username 标记的用户名数组\n * @param {String} text 文本内容\n * @return {Array} 用户名数组\n */\nconst fetchUsers = (text) => {\n    if (!text) {\n        return [];\n    }\n\n    var ignoreRegexs = [\n        /```.+?```/g, // 去除单行的 ```\n        /^```[\\s\\S]+?^```/gm, // ``` 里面的是 pre 标签内容\n        /`[\\s\\S]+?`/g, // 同一行中，`some code` 中内容也不该被解析\n        /^.*/gm, // 4个空格也是 pre 标签，在这里 . 不会匹配换行\n        /\\b\\S*?@[^\\s]*?\\..+?\\b/g, // somebody@gmail.com 会被去除\n        /\\[@.+?\\\\]\\(\\/.+?\\)/g // 已经被 link 的 username\n    ];\n\n    ignoreRegexs.forEach((ignoreRegex) => {\n        text = text.replace(ignoreRegex, '');\n    });\n\n    var results = text.match(/@[a-z0-9\\-_]+\\b/igm);\n    var names = [];\n    if (results) {\n        for (var i = 0, l = results.length; i < l; i++) {\n            var s = results[i];\n            // remove leading char @\n            s = s.slice(1);\n            names.push(s);\n        }\n    }\n    names = _.uniq(names);\n    return names;\n};\n\n/**\n * 根据文本内容，替换为数据库中的数据\n * @param {String} text 文本内容\n * @param {Function} callback 回调函数\n */\nconst linkUsers = (text) => {\n    var users = fetchUsers(text);\n    for (var i = 0, l = users.length; i < l; i++) {\n        var name = users[i];\n        text = text.replace(new RegExp('@' + name + '\\\\b(?!\\\\])', 'g'), '[@' + name + '](/user/' + name + ')');\n    }\n    return text;\n};\n\n/**\n *   对Date的扩展，将 Date 转化为指定格式的String\n *   月(M)、日(d)、小时(h)、分(m)、秒(s)、季度(q) 可以用 1-2 个占位符，\n *   年(y)可以用 1-4 个占位符，毫秒(S)只能用 1 个占位符(是 1-3 位的数字)\n *   例子：\n *   (new Date()).Format('yyyy-MM-dd hh:mm:ss.S') ==> 2006-07-02 08:09:04.423\n *   (new Date()).Format('yyyy-M-d h:m:s.S')      ==> 2006-7-2 8:9:4.18\n */\nconst fmtDate = (date, fmt) => { // author: meizz\n    var o = {\n        'M+': date.getMonth() + 1, // 月份\n        'd+': date.getDate(), // 日\n        'h+': date.getHours(), // 小时\n        'm+': date.getMinutes(), // 分\n        's+': date.getSeconds(), // 秒\n        'q+': Math.floor((date.getMonth() + 3) / 3), // 季度\n        'S': date.getMilliseconds() // 毫秒\n    };\n    if (/(y+)/.test(fmt)) {\n        fmt = fmt.replace(RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length));\n    }\n    for (var k in o) {\n        if (new RegExp('(' + k + ')').test(fmt)) {\n            fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? (o[k]) : (('00' + o[k]).substr(('' + o[k]).length)));\n        }\n    }\n    return fmt;\n};\n\n/**\n * 调用Timeago库显示到现在的时间\n */\nconst MillisecondToDate = (time) => {\n    var str = '';\n    if (time !== null && time !== '') {\n        let timeagoInstance = new Timeago();\n        str = timeagoInstance.format(time, 'zh_CN');\n    }\n    return str;\n};\n\n/**\n * 格式化日期或时间\n * @param {string} time 需要格式化的时间\n * @param {bool} friendly 是否是fromNow\n */\nexports.getLastTimeStr = (time, friendly) => {\n    if (friendly) {\n        return MillisecondToDate(time);\n    } else {\n        return fmtDate(new Date(time), 'yyyy-MM-dd hh:mm');\n    }\n};\n\n/**\n * 获取不同tab的信息\n * @param  {[type]}  tab     [tab分类]\n * @param  {[type]}  good    [是否是精华]\n * @param  {[type]}  top     [是否置顶]\n * @param  {Boolean} isClass [是否是样式]\n * @return {[type]}          [返回对应字符串]\n */\nexports.getTabInfo = (tab, good, top, isClass) => {\n    let str = '';\n    let className = '';\n    if (top) {\n        str = '置顶';\n        className = 'top';\n    } else if (good) {\n        str = '精华';\n        className = 'good';\n    } else {\n        switch (tab) {\n            case 'share':\n                str = '分享';\n                className = 'share';\n                break;\n            case 'ask':\n                str = '问答';\n                className = 'ask';\n                break;\n            case 'job':\n                str = '招聘';\n                className = 'job';\n                break;\n            default:\n                str = '暂无';\n                className = 'default';\n                break;\n        }\n    }\n    return isClass ? className : str;\n};\n\n/**\n * 配置节流函数\n * @param  {[Function]}  fn     [要执行的函数]\n * @param  {[Number]}  delay    [延迟执行的毫秒数]\n * @param  {[Number]}  mustRun  [至少多久执行一次]\n * @return {[Function]}         [节流函数]\n */\nexports.throttle = (fn, wait, mustRun) => {\n    let timeout;\n    let startTime = new Date();\n    return function() {\n        let context = this;\n        let args = arguments;\n        let curTime = new Date();\n\n        clearTimeout(timeout);\n        // 如果达到了规定的触发时间间隔，触发 handler\n        if (curTime - startTime >= mustRun) {\n            fn.apply(context, args);\n            startTime = curTime;\n            // 没达到触发间隔，重新设定定时器\n        } else {\n            timeout = setTimeout(fn, wait);\n        }\n    };\n};\n\nexports.linkUsers = linkUsers;\nexports.fetchUsers = fetchUsers;\nexports.getCheck = getCheck;\nexports.fmtDate = fmtDate;\nexports.MillisecondToDate = MillisecondToDate;\n\n\n// WEBPACK FOOTER //\n// ./src/libs/utils.js","import utils from './libs/utils';\n\n/** 格式化时间\n *  @param {string} time 需要格式化的时间\n *  @param {bool} friendly 是否是fromNow\n */\nexports.getLastTimeStr = (time, friendly) => {\n    if (friendly) {\n        return utils.MillisecondToDate(time);\n    } else {\n        return utils.fmtDate(new Date(time), 'yyyy-MM-dd hh:mm');\n    }\n};\n\n/** 获取文字标签\n *  @param {string} tab Tab分类\n *  @param {bool} good 是否是精华帖\n *  @param {bool} top 是否是置顶帖\n */\nexports.getTabStr = (tab, good, top) => {\n    let str = '';\n    if (top) {\n        str = '置顶';\n    } else if (good) {\n        str = '精华';\n    } else {\n        switch (tab) {\n            case 'share':\n                str = '分享';\n                break;\n            case 'ask':\n                str = '问答';\n                break;\n            case 'job':\n                str = '招聘';\n                break;\n            default:\n                str = '暂无';\n                break;\n        }\n    }\n    return str;\n};\n\n/** 获取标签样式\n *  @param {string} tab Tab分类\n *  @param {bool} good 是否是精华帖\n *  @param {bool} top 是否是置顶帖\n */\nexports.getTabClassName = (tab, good, top) => {\n    let className = '';\n\n    if (top) {\n        className = 'top';\n    } else if (good) {\n        className = 'good';\n    } else {\n        switch (tab) {\n            case 'share':\n                className = 'share';\n                break;\n            case 'ask':\n                className = 'ask';\n                break;\n            case 'job':\n                className = 'job';\n                break;\n            default:\n                className = 'default';\n                break;\n        }\n    }\n    return className;\n};\n\n\n// WEBPACK FOOTER //\n// ./src/filters.js","import Vue from 'vue';\nimport $ from 'webpack-zepto';\n\n/**\n * 全局注册弱提示\n */\nexport default {\n    install() {\n        let timer = null;\n        Vue.prototype.$alert = (msg) => {\n            $('#alertWeek').remove();\n            let $alert = $('<div class=\"week-alert\" id=\"alertWeek\"></div>');\n            $('body').append($alert);\n            $alert.html(msg);\n            $alert.addClass('alert-show');\n            clearTimeout(timer);\n            timer = setTimeout(() => {\n                $alert.remove();\n            }, 2000);\n        };\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/libs/alert.js","// require.ensure 是 Webpack 的特殊语法，用来设置 code-split point\nconst Home = resolve => {\n    require.ensure(['./views/index.vue'], () => {\n        resolve(require('./views/index.vue'));\n    });\n};\n\nconst List = resolve => {\n    require.ensure(['./views/list.vue'], () => {\n        resolve(require('./views/list.vue'));\n    });\n};\n\nconst routers = [{\n    path: '/',\n    name: 'home',\n    component: Home\n}, {\n    path: '/cnodevue',\n    name: 'cnodevue',\n    component: Home\n}, {\n    path: '/list',\n    name: 'list',\n    component: List\n}, {\n    path: '/topic/:id',\n    name: 'topic',\n    component(resolve) {\n        require.ensure(['./views/topic.vue'], () => {\n            resolve(require('./views/topic.vue'));\n        });\n    }\n}, {\n    path: '/add',\n    name: 'add',\n    component(resolve) {\n        require.ensure(['./views/new.vue'], () => {\n            resolve(require('./views/new.vue'));\n        });\n    },\n    meta: { requiresAuth: true }\n}, {\n    path: '/message',\n    name: 'message',\n    component(resolve) {\n        require.ensure(['./views/message.vue'], () => {\n            resolve(require('./views/message.vue'));\n        });\n    },\n    meta: { requiresAuth: true }\n}, {\n    path: '/user/:loginname',\n    name: 'user',\n    component(resolve) {\n        require.ensure(['./views/user.vue'], () => {\n            resolve(require('./views/user.vue'));\n        });\n    }\n}, {\n    path: '/about',\n    name: 'about',\n    component(resolve) {\n        require.ensure(['./views/about.vue'], () => {\n            resolve(require('./views/about.vue'));\n        });\n    }\n}, {\n    path: '/login',\n    name: 'login',\n    component(resolve) {\n        require.ensure(['./views/login.vue'], () => {\n            resolve(require('./views/login.vue'));\n        });\n    }\n}, {\n    path: '*',\n    component: Home\n}];\n\nexport default routers;\n\n\n// WEBPACK FOOTER //\n// ./src/routers.js","import Vue from 'vue';\nimport Vuex from 'vuex';\nVue.use(Vuex);\n\nconst userStore = new Vuex.Store({\n    state: {\n        userInfo: {}\n    },\n    getters: {\n        getUserInfo(state) {\n            return state.userInfo;\n        }\n    },\n    mutations: {\n        setUserInfo(state, userInfo) {\n            state.userInfo = userInfo;\n        }\n    },\n    actions: {\n        setUserInfo({ commit }, user) {\n            commit('setUserInfo', user);\n        }\n    }\n});\n\nexport default userStore;\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/user.js"],"sourceRoot":""}